"use strict";

var assert = require ("assert");
var tr = require ("../dist/trendyways.min.js");

it ("ADX test", function () {
	var data = [
	{h:30.20,l:29.41,c:29.87},{h:30.28,l:29.32,c:30.24},{h:30.45,l:29.96,c:30.10},
	{h:29.35,l:28.74,c:28.90},{h:29.35,l:28.56,c:28.92},{h:29.29,l:28.41,c:28.48},
	{h:28.83,l:28.08,c:28.56},{h:28.73,l:27.43,c:27.56},{h:28.67,l:27.66,c:28.47},
	{h:28.85,l:27.83,c:28.28},{h:28.64,l:27.40,c:27.49},{h:27.68,l:27.09,c:27.23},
	{h:27.21,l:26.18,c:26.35},{h:26.87,l:26.13,c:26.33},{h:27.41,l:26.63,c:27.03},
	{h:26.94,l:26.13,c:26.22},{h:26.52,l:25.43,c:26.01},{h:26.52,l:25.35,c:25.46},
	{h:27.09,l:25.88,c:27.03},{h:27.69,l:26.96,c:27.45},{h:28.45,l:27.14,c:28.36},
	{h:28.53,l:28.01,c:28.43},{h:28.67,l:27.88,c:27.95},{h:29.01,l:27.99,c:29.01},
	{h:29.87,l:28.76,c:29.38},{h:29.80,l:29.14,c:29.36},{h:29.75,l:28.71,c:28.91},
	{h:30.65,l:28.93,c:30.61},{h:30.60,l:30.03,c:30.05},{h:30.76,l:29.39,c:30.19},
	{h:31.17,l:30.14,c:31.12},{h:30.89,l:30.43,c:30.54},{h:30.04,l:29.35,c:29.78},
	{h:30.66,l:29.99,c:30.04},{h:30.60,l:29.52,c:30.49},{h:31.97,l:30.94,c:31.47},
	{h:32.10,l:31.54,c:32.05},{h:32.03,l:31.36,c:31.97}];
	let adxValues = tr.adx(data);
  assert.equal(adxValues[28].adx.toFixed(2), 33.71);
});

